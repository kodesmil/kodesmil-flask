apiVersion: skaffold/v2beta1
kind: Config
metadata:
  name: kodesmil-flask
build:
  artifacts:
  - image: kodesmil/kodesmil_activities
    context: kodesmil_activities
  - image: kodesmil/kodesmil_locations
    context: kodesmil_locations
  - image: kodesmil/kodesmil_points
    context: kodesmil_points
  - image: kodesmil/kodesmil_products
    context: kodesmil_products
  - image: kodesmil/kodesmil_survey
    context: kodesmil_survey
deploy:
  kubectl:
    manifests:
    - deployment/namespace_dev/env.yaml
    - deployment/namespace_dev/ingress.yaml
    - deployment/namespace_dev/namespace.yaml
    - deployment/namespace_dev/secret.yaml
    - deployment/namespace_local/env.yaml
    - deployment/namespace_local/ingress.yaml
    - deployment/namespace_local/namespace.yaml
    - deployment/namespace_local/secret.yaml
    - deployment/namespace_prod/env.yaml
    - deployment/namespace_prod/ingress.yaml
    - deployment/namespace_prod/namespace.yaml
    - deployment/namespace_prod/secret.yaml
    - deployment/kodesmil_activities/deployment.yaml
    - deployment/kodesmil_activities/service.yaml
    - deployment/kodesmil_locations/deployment.yaml
    - deployment/kodesmil_locations/service.yaml
    - deployment/kodesmil_points/deployment.yaml
    - deployment/kodesmil_points/service.yaml
    - deployment/kodesmil_products/deployment.yaml
    - deployment/kodesmil_products/service.yaml
    - deployment/kodesmil_survey/deployment.yaml
    - deployment/kodesmil_survey/service.yaml
